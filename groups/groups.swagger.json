{
  "swagger": "2.0",
  "info": {
    "title": "groups/groups.proto",
    "version": "version not set"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/groups": {
      "get": {
        "summary": "Get all groups.",
        "operationId": "MruVGroupsService_GetGroups",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetGroupsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "beginFrom",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "post": {
        "summary": "Create a group.",
        "operationId": "MruVGroupsService_CreateGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvCreateGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/members/{memberId}/permitted": {
      "get": {
        "summary": "Check is member of a group is permitted to do specific action.",
        "operationId": "MruVGroupsService_IsPermitted",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvIsPermittedResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "memberId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "memberType",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "MEMBER_TYPE_UNKNOWN",
              "MEMBER_TYPE_ACCOUNT",
              "MEMBER_TYPE_CHARACTER"
            ],
            "default": "MEMBER_TYPE_UNKNOWN"
          },
          {
            "name": "action",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/status": {
      "get": {
        "summary": "Service status",
        "operationId": "MruVGroupsService_GetServiceStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvServiceStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/version": {
      "get": {
        "operationId": "MruVGroupsService_GetServiceVersion",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvVersionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}": {
      "get": {
        "summary": "Get a  group.",
        "operationId": "MruVGroupsService_GetGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "delete": {
        "summary": "Delete a group.",
        "operationId": "MruVGroupsService_DeleteGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvDeleteGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "patch": {
        "summary": "Update a group.",
        "operationId": "MruVGroupsService_UpdateGroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvUpdateGroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/members": {
      "get": {
        "summary": "Get a group member.",
        "operationId": "MruVGroupsService_GetMembers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetMembersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/members/{memberId}": {
      "delete": {
        "summary": "Remove a group member.",
        "operationId": "MruVGroupsService_RemoveMember",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvRemoveMemberResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "memberId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "post": {
        "summary": "Add a group member.",
        "operationId": "MruVGroupsService_AddMember",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvAddMemberResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "memberId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/owner": {
      "get": {
        "summary": "Get group owner.",
        "operationId": "MruVGroupsService_GetOwner",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetOwnerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "put": {
        "summary": "Assign an owner. Group can have only one owner. Owner can be a player, a group or an account.",
        "operationId": "MruVGroupsService_AssignOwner",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvAssignOwnerResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/permissions": {
      "get": {
        "summary": "Get all group permissions.",
        "operationId": "MruVGroupsService_GetPermissions",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetPermissionsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "delete": {
        "summary": "Remove group permission.",
        "operationId": "MruVGroupsService_RemovePermission",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvRemovePermissionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "permissionId",
            "in": "query",
            "required": false,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "post": {
        "summary": "Add a permission to a group.",
        "operationId": "MruVGroupsService_AddPermission",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvAddPermissionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/subgroups": {
      "get": {
        "summary": "Get all subgroups.",
        "operationId": "MruVGroupsService_GetSubgroups",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvGetSubgroupsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    },
    "/v1/groups/{groupId}/subgroups/{subgroupId}": {
      "delete": {
        "summary": "Remove a subgroup from group.",
        "operationId": "MruVGroupsService_RemoveSubgroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvRemoveSubgroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "subgroupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      },
      "post": {
        "summary": "Add a subgroup to a group.",
        "operationId": "MruVGroupsService_AddSubgroup",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/mruvAddSubgroupResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "groupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          },
          {
            "name": "subgroupId",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int64"
          }
        ],
        "tags": [
          "MruVGroupsService"
        ]
      }
    }
  },
  "definitions": {
    "GetGroupsResponseGroup": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      }
    },
    "GetPermissionsResponsePermission": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64"
        },
        "name": {
          "type": "string"
        },
        "definition": {
          "type": "string"
        }
      }
    },
    "mruvAddMemberResponse": {
      "type": "object",
      "description": "Response message for rpc `AddMember`."
    },
    "mruvAddPermissionResponse": {
      "type": "object",
      "properties": {
        "permissionId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "description": "Response message for rpc `AddPermission`."
    },
    "mruvAddSubgroupResponse": {
      "type": "object",
      "description": "Response message for rpc `AddSubgroup`."
    },
    "mruvAssignOwnerResponse": {
      "type": "object",
      "description": "Response message for rpc `AssignOwner`."
    },
    "mruvCreateGroupResponse": {
      "type": "object",
      "properties": {
        "groupId": {
          "type": "integer",
          "format": "int64"
        }
      },
      "description": "Response message for rpc `CreateGroup`."
    },
    "mruvDeleteGroupResponse": {
      "type": "object",
      "description": "Response message for rpc `DeleteGroup`."
    },
    "mruvGetGroupResponse": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        }
      },
      "description": "Response message for rpc `GetGroup`."
    },
    "mruvGetGroupsResponse": {
      "type": "object",
      "properties": {
        "groups": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GetGroupsResponseGroup"
          }
        }
      },
      "description": "Response message for rpc `GetGroups`."
    },
    "mruvGetMembersResponse": {
      "type": "object",
      "properties": {
        "memberType": {
          "$ref": "#/definitions/mruvMemberType"
        },
        "memberIds": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "description": "Response message for rpc `GetMembers`."
    },
    "mruvGetOwnerResponse": {
      "type": "object",
      "properties": {
        "ownerId": {
          "type": "integer",
          "format": "int64"
        },
        "ownerType": {
          "$ref": "#/definitions/mruvOwnerType"
        }
      },
      "description": "Response message for rpc `GetOwner`."
    },
    "mruvGetPermissionsResponse": {
      "type": "object",
      "properties": {
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GetPermissionsResponsePermission"
          }
        }
      },
      "description": "Response message for rpc `GetPermissions`."
    },
    "mruvGetSubgroupsResponse": {
      "type": "object",
      "properties": {
        "subgroupIds": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "description": "Response message for rpc `GetSubgroups`."
    },
    "mruvIsPermittedResponse": {
      "type": "object",
      "properties": {
        "permitted": {
          "type": "boolean"
        }
      },
      "description": "Response message for rpc `IsPermitted`."
    },
    "mruvMemberType": {
      "type": "string",
      "enum": [
        "MEMBER_TYPE_UNKNOWN",
        "MEMBER_TYPE_ACCOUNT",
        "MEMBER_TYPE_CHARACTER"
      ],
      "default": "MEMBER_TYPE_UNKNOWN",
      "description": "Member type."
    },
    "mruvOwnerType": {
      "type": "string",
      "enum": [
        "OWNER_TYPE_UNKNOWN",
        "OWNER_TYPE_ACCOUNT",
        "OWNER_TYPE_CHARACTER",
        "OWNER_TYPE_GROUP"
      ],
      "default": "OWNER_TYPE_UNKNOWN",
      "description": "Owner types."
    },
    "mruvRemoveMemberResponse": {
      "type": "object",
      "description": "Response message for rpc `RemoveMember`."
    },
    "mruvRemovePermissionResponse": {
      "type": "object",
      "description": "Response message for rpc `RemovePermission`."
    },
    "mruvRemoveSubgroupResponse": {
      "type": "object",
      "description": "Response message for rpc `RemoveSubgroup`."
    },
    "mruvServiceStatusResponse": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string"
        }
      }
    },
    "mruvUpdateGroupResponse": {
      "type": "object",
      "description": "Response message for rpc `UpdateGroup`."
    },
    "mruvVersionResponse": {
      "type": "object",
      "properties": {
        "version": {
          "type": "string"
        },
        "buildDate": {
          "type": "string"
        },
        "commit": {
          "type": "string"
        },
        "osArch": {
          "type": "string"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "typeUrl": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
